{{ set(this, 'title', _Blog.getBlogTitle()) }}
{% set networkData = _Network.getNetworkData() %}




{{this.registerJs("CardController();")}}

{% set limit = 10 %}

{% set articlesArr = _Blog.getBlogFeed({'limit': limit, 'offset': 0}) %}
{% set articles = articlesArr.articles %}

{% set events = _Event.getEvents() %}


<!-- used to index each article as we loop over throughout the template -->
{% set articleCount = 0 %}
{% set testCount = 0 %}



    <main id="main" class="index_container site-main" role="main">
        



        <section class="row top-cards">
            

            <div class="col-md-6 col-md-push-3">
                {% set class = 'card-main card-main-mobile' %}
                {% for i in 0..2 if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 330, height: 235},
                        containerClass: class
                    }) | raw}}
                    {% set class = 'card-rec card-rec-mobile' %}
                    {% set articleCount = articleCount + 1 %}
                {% endfor %}
            </div>


            <div class="col-md-3 col-md-pull-6">
                {% set class = ['card-sm-short card-sm-mobile', 'card-sm card-sm-mobile', 'card-sm-short card-sm-mobile'] %}
                {% for i in 0..2 if articles[articleCount]%}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSuppress: false,
                        imageSize: {width: 330, height: 235},
                        containerClass: class[i]
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endfor %}
            </div>



            <div class="col-md-3">

                <div class="e-edition">
                    <img src="{{networkData.templatePath}}/static/images/frank-logo.svg" width="103px" height="29px">
                    <p class="name">E-Edition</p>
                    <a href="#"></a>
                    <p class="description">The best of frank. available for download here</p>
                </div>

                <div class="advert">
                </div>

                <hr class="divide">

                {% if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 330, height: 235},
                        containerClass: 'card-sm card-sm-mobile'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endif %}
            </div>


        </section>
    

        <section class="row advert-banner-small">
            <div class="advert"></div>
        </section>











        <section class="row bottom-cards">
            
            <div class="col-md-9">
                
                <div class="row">
                

                    <div class="col-md-8 col-md-push-4">
                        <div class="row">
                            {% set class = 'col-md-12 card-main-2col card-main-2col-mobile' %}
                            {% set showimages = [false, false, false] %}

                            {% for i in 0..2 if articles[articleCount] %}
                                {{this.render('partials/_single-article.twig', {
                                    article: articles[articleCount], 
                                    position: (articleCount+1),
                                    imageSuppress: showimages[i],
                                    imageSize: {width: 330, height: 235},
                                    containerClass: class
                                }) | raw}}
                                {% set class = 'col-md-6 card-sm-short card-sm-mobile' %}
                                {% set articleCount = articleCount + 1 %}
                            {% endfor %}
                        </div>
                    </div>




                    <div class="col-md-4 col-md-pull-8">
                        {% if articles[articleCount]%}
                            {{this.render('partials/_single-article.twig', {
                                article: articles[articleCount], 
                                position: (articleCount+1),
                                imageSize: {width: 300, height: 422},
                                containerClass: 'card-md-full card-md-full-mobile'
                            }) | raw}}
                            {% set articleCount = articleCount + 1 %}
                        {% endif %}

                        <div class="row top-stories">
                            <h2>TOP STORIES</h2>

                            {% for i in 0..3 if articles[articleCount] %}
                                {{this.render('partials/_single-article.twig', {
                                    article: articles[articleCount], 
                                    imageSuppress: true,
                                    containerClass: "card-top-story"
                                }) | raw}}
                            {% endfor %}
                        </div>
                    </div>

                </div>

                <section class="row advert-banner-small">
                    <div class="col-md-12">
                        <div class="advert"></div>
                    </div>
                </section>
            </div>


            <div class="col-md-3">

                {% for i in 0..3 if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 300, height: 180},
                        containerClass: 'card-sm-full'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endfor %}
            </div>

        </section>















        <section class="row section national">

            <div class="col-md-12 section-header">
                <h2>National</h2>
                <p>
                    Nam porti tasse plat dictmst  blandit accaserio sln hac curabitur hendrerit 
                    quam ac arcu facilisis faucibus. Curabitur tempus, urna sed semperc
                </p>
            </div>


            <div class="col-md-6">
                {% for i in 0..2 if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 300, height: 422},
                        containerClass: 'card-rec card-rec-mobile'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endfor %}
            </div>

            <div class="col-md-3">
                {% if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 330, height: 235},
                        containerClass: "card-md-full card-md-full-mobile"
                    }) | raw}}

                    {% set articleCount = articleCount + 1 %}
                {% endif %}
            </div>


            <div class="col-md-3">

                {% for i in 0..1 if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 300, height: 180},
                        containerClass: 'card-sm-short card-sm-mobile'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endfor %}
            </div>

        </section>













        <section class="row section national">

            <div class="col-md-12 section-header">
                <h2>Section Header</h2>
                <p>
                    Nam porti tasse plat dictmst  blandit accaserio sln hac curabitur hendrerit 
                    quam ac arcu facilisis faucibus. Curabitur tempus, urna sed semperc
                </p>
            </div>


            <div class="col-md-6">
                {% if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 640, height: 420},
                        containerClass: 'card-md-full card-md-full-mobile'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endif %}
            </div>

            <div class="col-md-3">
                {% if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 330, height: 235},
                        containerClass: "card-sm card-sm-mobile"
                    }) | raw}}

                    {% set articleCount = articleCount + 1 %}
                {% endif %}
            </div>


            <div class="col-md-3">
                {% if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 330, height: 235},
                        containerClass: "card-sm card-sm-mobile"
                    }) | raw}}

                    {% set articleCount = articleCount + 1 %}
                {% endif %}
            </div>

        </section>














        <section class="row section national">

            <div class="col-md-12 section-header">
                <h2>Section Header</h2>
                <p>
                    Nam porti tasse plat dictmst  blandit accaserio sln hac curabitur hendrerit 
                    quam ac arcu facilisis faucibus. Curabitur tempus, urna sed semperc
                </p>
            </div>


            <div class="col-md-3">
                {% for i in 0..1 if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        containerClass: 'card-sm-short card-sm-mobile'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endfor %}
            </div>

            <div class="col-md-6">
                {% for i in 0..2 if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 198, height: 141},
                        containerClass: "card-rec card-rec-mobile"
                    }) | raw}}

                    {% set articleCount = articleCount + 1 %}
                {% endfor %}
            </div>


            <div class="col-md-3">
                <div class="finance-widget"></div>
            </div>

        </section>













        <section class="row section events">

            <div class="col-md-12 section-header">
                <h2>Section Header blue</h2>
                <p>
                    Nam porti tasse plat dictmst  blandit accaserio sln hac curabitur hendrerit 
                    quam ac arcu facilisis faucibus. Curabitur tempus, urna sed semperc
                </p>
            </div>


            <div class="col-md-9" style="position:relative">
                {% for i in 0..0 if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 980, height: 420},
                        containerClass: 'card-lg-full'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endfor %}

                <div class="inside">
                    {% for i in 0..2 if articles[articleCount] %}
                        {{this.render('partials/_single-article.twig', {
                            article: articles[articleCount], 
                            position: (articleCount+1),
                            imageSuppress: true,
                            containerClass: 'card-xs card-xs-mobile'
                        }) | raw}}
                        {% set articleCount = articleCount + 1 %}
                    {% endfor %}
                </div>
            </div>

            <div class="col-md-3 eventlist">
                <h2>EVENTS</h2>

                {% for i in 0..5 if events[articleCount] %}
                    {{this.render('partials/_single-event.twig', {
                        event: events[articleCount], 
                        imageSize: {width: 60, height: 37},
                        containerClass: "card-event"
                    }) | raw}}
                {% endfor %}
            </div>


        </section>















        <section class="row section national">

            <div class="col-md-12 section-header">
                <h2>Section Header</h2>
                <p>
                    Nam porti tasse plat dictmst  blandit accaserio sln hac curabitur hendrerit 
                    quam ac arcu facilisis faucibus. Curabitur tempus, urna sed semperc
                </p>
            </div>


            {% for i in 0..3 if articles[articleCount] %}
                <div class="col-md-3">
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 300, height: 180},
                        containerClass: 'card-sm-full'
                    }) | raw}}
                </div>
                {% set articleCount = articleCount + 1 %}
            {% endfor %}

        </section>











        <section class="row section national">

            <div class="col-md-12 section-header">
                <h2>Section Header</h2>
                <p>
                    Nam porti tasse plat dictmst  blandit accaserio sln hac curabitur hendrerit 
                    quam ac arcu facilisis faucibus. Curabitur tempus, urna sed semperc
                </p>
            </div>


            <div class="col-md-6">
                {% if articles[articleCount] %}
                    {{this.render('partials/_single-article.twig', {
                        article: articles[articleCount], 
                        position: (articleCount+1),
                        imageSize: {width: 640, height: 420},
                        containerClass: 'card-md-full card-md-full-mobile'
                    }) | raw}}
                    {% set articleCount = articleCount + 1 %}
                {% endif %}
            </div>

            <div class="col-md-6">
                <div class="row">
                    {% if articles[articleCount] %}
                        {{this.render('partials/_single-article.twig', {
                            article: articles[articleCount], 
                            position: (articleCount+1),
                            imageSize: {width: 198, height: 141},
                            containerClass: "col-md-12 card-rec card-rec-mobile"
                        }) | raw}}

                        {% set articleCount = articleCount + 1 %}
                    {% endif %}
                </div>



                <div class="row">
                    {% for i in 0..1 if articles[articleCount] %}
                        <div class="col-md-6">
                            {{this.render('partials/_single-article.twig', {
                                article: articles[articleCount], 
                                position: (articleCount+1),
                                imageSize: {width: 198, height: 141},
                                containerClass: "card-sm-full"
                            }) | raw}}
                        </div>
                        {% set articleCount = articleCount + 1 %}
                    {% endfor %}
                </div>


            </div>

        </section>








    </main><!-- .site-main -->